title
title = read_html(webcode)%>%html_nodes('.txt_biaoti')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('.txt_biaoti')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('.txt_biaoti')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('.txt_biaoti')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('.txt_biaoti')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('.txt_biaoti')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('.txt_biaoti')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('.txt_biaoti')
#%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('.txt_biaoti')
#%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('MsoNormal a')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('MsoNormal a')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('MsoNormal a')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('.MsoNormal a')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('.MsoNormal a')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('.MsoNormal a')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('.MsoNormal a')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
title = read_html(webcode)%>%html_nodes('.MsoNormal a')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
load("/Users/lujiawen/Desktop/crawertest/job1.Rdata")
knitr::opts_chunk$set(echo = TRUE)
x = c('rvest','RCurl','stringr','httr','tidyverse')
lapply(x,require,character.only=TRUE)
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 0:50){
page = i
url = c(paste0(urlp,page),url)}
url
for (k in 1:50){
webcode = GET(url[k])
# webcode =  RETRY("GET", url[k])
Sys.sleep(runif(1,2,3))
save(webcode,file = paste0("job",k,".Rdata"))
}
knitr::opts_chunk$set(echo = TRUE)
webdata = data.frame()
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 1:5){
page = i
url = c(paste0(urlp,page),url)}
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_nodes('.job-name a')%>%html_text()
x = c('rvest','RCurl','stringr','httr','tidyverse')
lapply(x,require,character.only=TRUE)
webdata = data.frame()
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 1:5){
page = i
url = c(paste0(urlp,page),url)}
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_nodes('.job-name a')%>%html_text()
webdata = data.frame()
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 1:5){
page = i
url = c(paste0(urlp,page),url)}
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_nodes('div.job-name a')%>%html_text()
webdata = data.frame()
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 1:5){
page = i
url = c(paste0(urlp,page),url)}
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
webdata = data.frame()
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 1:5){
page = i
url = c(paste0(urlp,page),url)}
#load(paste0("job",i,".Rdata"))
#job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
webdata = data.frame()
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 1:5){
page = i
url = c(paste0(urlp,page),url)}
#load(paste0("job",i,".Rdata"))
#job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
webdata = data.frame()
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 1:5){
page = i
url = c(paste0(urlp,page),url)}
#load(paste0("job",i,".Rdata"))
#job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
salary = read_html(url)
webdata = data.frame()
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 1:5){
page = i
url = c(paste0(urlp,page),url)}
#load(paste0("job",i,".Rdata"))
#job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
print(url)
#   salary = read_html(url)
#   print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
}
webdata = data.frame()
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 1:5){
page = i
url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
#job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
print(url)
#   salary = read_html(url)
#   print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
}
job
webdata
webdata = data.frame()
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 1:5){
page = i
url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
#job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
print(url)
#   salary = read_html(url)
#   print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
}
webdata = data.frame()
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 1:5){
page = i
url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
#job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
print(url)
#   salary = read_html(url)
#   print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
}
webdata = data.frame()
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 1:5){
page = i
url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
salary = read_html(url)
print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
}
webdata = data.frame()
urlp = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page="
url = c()
for (i in 1:5){
page = i
url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
#job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
salary = read_html(url)
print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
}
webdata = data.frame()
url = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page=1"
#url = c()
#for (i in 1:5){
#    page = i
#    url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
#job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
salary = read_html(url)
print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
}
webdata = data.frame()
url = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page=1"
#url = c()
#for (i in 1:5){
#    page = i
#    url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
#job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
salary = read_html(url)
print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
#}
webdata = data.frame()
url = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page=1"
#url = c()
#for (i in 1:5){
#    page = i
#    url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
salary = read_html(url)
print(job_title)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
#}
webdata = data.frame()
url = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page=1"
#url = c()
#for (i in 1:5){
#    page = i
#    url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_nodes('div.job-name')%>%html_text()
salary = read_html(url)
print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
#}
View(salary)
View(salary)
knitr::opts_chunk$set(echo = TRUE)
title = read_html(webcode)%>%html_nodes('.MsoNormal a')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
webcode2 = GET(url)
# webcode =  RETRY("GET", url[k])
#Sys.sleep(runif(1,2,3))
#save(webcode,file = paste0("job",k,".Rdata"))
title = read_html(webcode2)%>%html_nodes('.MsoNormal a')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
View(webcode)
View(webcode2)
title = read_html(webcode2)
#%>%html_nodes('.MsoNormal a')%>%html_text()
#webdata = rbind(webdata,data.frame(job,stringsAsFactors = FALSE))
title
View(title)
webdata = data.frame()
url = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page=1"
#url = c()
#for (i in 1:5){
#    page = i
#    url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_nodes('.job-name a')%>%html_text()
salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
#}
webdata = data.frame()
url = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page=1"
#url = c()
#for (i in 1:5){
#    page = i
#    url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_nodes('job-name a')%>%html_text()
salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
#}
webdata = data.frame()
url = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page=1"
#url = c()
#for (i in 1:5){
#    page = i
#    url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_nodes('job-name a')%>%html_text()
salary = read_html(url)%>%html_nodes('.red')%>%html_text()
print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
#}
webdata = data.frame()
url = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page=1"
#url = c()
#for (i in 1:5){
#    page = i
#    url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_nodes('job-name a')%>%html_text()
salary = read_html(url)%>%html_nodes('red')%>%html_text()
print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
#}
webdata = data.frame()
url = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page=1"
#url = c()
#for (i in 1:5){
#    page = i
#    url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_nodes('.job-name.a')%>%html_text()
salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
print(job_title)
print(salary)
#    %>%html_nodes('span.red')%>%html_text()
#    company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#    webdata = rbind(webdata,data.frame(job_title,company,salary,stri#ngsAsFactors = FALSE))
#}
webdata = data.frame()
url = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page=1"
#url = c()
#for (i in 1:5){
#    page = i
#    url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_nodes('.job-name.a')%>%html_text()
company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
webdata = rbind(webdata,data.frame(job_title,company,salary,stringsAsFactors = FALSE))
#}
job_title
salary
webdata
webdata = data.frame()
url = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page=1"
#url = c()
#for (i in 1:5){
#    page = i
#    url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_text()
#  html_nodes('.job-name a')%>%html_text()
#company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
#
webdata = rbind(webdata,data.frame(job_title,company,salary,stringsAsFactors = FALSE))
webdata = data.frame()
url = "https://www.zhipin.com/c100010000/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&page=1"
#url = c()
#for (i in 1:5){
#    page = i
#    url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
job_title = read_html(url)%>%html_text()
#  html_nodes('.job-name a')%>%html_text()
#company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
#
webdata = rbind(webdata,data.frame(job_title))
#}
job_title
salary
webdata
webdata = data.frame()
url = "https://www.zhipin.com/c101020100/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&ka=sel-city-101020100"
#url = c()
#for (i in 1:5){
#    page = i
#    url = c(paste0(urlp,page),url)
#load(paste0("job",i,".Rdata"))
job = read_html(url)%>%html_text()
# job_title = read_html(url)%>% html_nodes('.job-name a')%>%html_text()
#company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
#
webdata = rbind(webdata,data.frame(job_title))
#}
job_title
salary
webdata
headers = c('User-Agent'='Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36',
'cookie'='__zp__pub__=; __c=1591717214; __g=-; __l=l=%2Fwww.zhipin.com%2F&r=https%3A%2F%2Fwww.google.com%2F&friend_source=0&friend_source=0; lastCity=100010000; toUrl=https%3A%2F%2Fwww.zhipin.com%2F; Hm_lvt_194df3105ad7148dcf2b98a91b5e727a=1591717215,1592275348,1592300597,1592300604; __a=64681111.1591717214..1591717214.65.1.65.65; Hm_lpvt_194df3105ad7148dcf2b98a91b5e727a=1592301176; __zp_stoken__=3638aKTs6azs8Ji4xamNlEA5rPGs7MygYASYqDANpchEjBWlYPVphESVQfDcZTzshfiA6MVlzDDs7OgdVeUA6XBtocQFCOy05OyxMNDI8N2NdRwkVLldWGWYUKgoTSwlqPBl%2FTiRbDRgtfnQ%3D; __zp_sseed__=B7RdlvZk83Itji40FYD9RsFn3pc0bCT+Ah+YIQXAh30=; __zp_sname__=b2ce8a49; __zp_sts__=1592301171147')
webcode = GET(url,add_headers(.headers =headers),body =payload, encode="json",verbose())
headers = c('User-Agent'='Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36',
'cookie'='__zp__pub__=; __c=1591717214; __g=-; __l=l=%2Fwww.zhipin.com%2F&r=https%3A%2F%2Fwww.google.com%2F&friend_source=0&friend_source=0; lastCity=100010000; toUrl=https%3A%2F%2Fwww.zhipin.com%2F; Hm_lvt_194df3105ad7148dcf2b98a91b5e727a=1591717215,1592275348,1592300597,1592300604; __a=64681111.1591717214..1591717214.65.1.65.65; Hm_lpvt_194df3105ad7148dcf2b98a91b5e727a=1592301176; __zp_stoken__=3638aKTs6azs8Ji4xamNlEA5rPGs7MygYASYqDANpchEjBWlYPVphESVQfDcZTzshfiA6MVlzDDs7OgdVeUA6XBtocQFCOy05OyxMNDI8N2NdRwkVLldWGWYUKgoTSwlqPBl%2FTiRbDRgtfnQ%3D; __zp_sseed__=B7RdlvZk83Itji40FYD9RsFn3pc0bCT+Ah+YIQXAh30=; __zp_sname__=b2ce8a49; __zp_sts__=1592301171147')
webcode = GET(url,add_headers(.headers =headers), encode="json",verbose())
webdata = data.frame()
job = read_html(webcode)%>%html_text()
# job_title = read_html(url)%>% html_nodes('.job-name a')%>%html_text()
#company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
#
#webdata = rbind(webdata,data.frame(job))
job
url = "https://www.zhipin.com/wapi/zpgeek/webtopbanner/query.json"
#https://www.zhipin.com/c101020100/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&ka=sel-city-101020100
headers = c('User-Agent'='Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36',
'cookie'='__zp__pub__=; __c=1591717214; __g=-; __l=l=%2Fwww.zhipin.com%2F&r=https%3A%2F%2Fwww.google.com%2F&friend_source=0&friend_source=0; lastCity=100010000; toUrl=https%3A%2F%2Fwww.zhipin.com%2F; Hm_lvt_194df3105ad7148dcf2b98a91b5e727a=1591717215,1592275348,1592300597,1592300604; __a=64681111.1591717214..1591717214.65.1.65.65; Hm_lpvt_194df3105ad7148dcf2b98a91b5e727a=1592301176; __zp_stoken__=3638aKTs6azs8Ji4xamNlEA5rPGs7MygYASYqDANpchEjBWlYPVphESVQfDcZTzshfiA6MVlzDDs7OgdVeUA6XBtocQFCOy05OyxMNDI8N2NdRwkVLldWGWYUKgoTSwlqPBl%2FTiRbDRgtfnQ%3D; __zp_sseed__=B7RdlvZk83Itji40FYD9RsFn3pc0bCT+Ah+YIQXAh30=; __zp_sname__=b2ce8a49; __zp_sts__=1592301171147')
webcode = GET(url,add_headers(.headers =headers), encode="json",verbose())
webdata = data.frame()
job = read_html(webcode)%>%html_text()
# job_title = read_html(url)%>% html_nodes('.job-name a')%>%html_text()
#company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
#
#webdata = rbind(webdata,data.frame(job))
job
headers = c('User-Agent'='Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36',
'cookie'='RECOMMEND_TIP=true; _ga=GA1.2.10707914.1589273745; user_trace_token=20200512165453-1261ab7a-edcb-4bf7-849d-cd0aef1ee5e7; LGUID=20200512165453-c9ffb47d-0a75-410a-97f9-44372671b6e0; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2217208191c54706-0e27e5c76dc665-396d7500-1296000-17208191c557f4%22%2C%22%24device_id%22%3A%2217208191c54706-0e27e5c76dc665-396d7500-1296000-17208191c557f4%22%7D; LG_LOGIN_USER_ID=e599b97ca91ffd98597e3f5fc6a69355f7ced9f236b081eb600526abc60e95b4; LG_HAS_LOGIN=1; JSESSIONID=ABAAAECABIEACCA5A35857C057631E6CD73DAD030638AE7; WEBTJ-ID=20200616174653-172bc863c09db-04fe54018a3ed-1b3a6251-1296000-172bc863c0a142; PRE_UTM=; PRE_LAND=https%3A%2F%2Fwww.lagou.com%2F; _gid=GA1.2.1114061038.1592300815; Hm_lvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1592300815; LGSID=20200616174638-cbe9e5e7-e2b2-494e-acc3-be56ef507bc3; PRE_HOST=www.google.com; PRE_SITE=https%3A%2F%2Fwww.google.com%2F; index_location_city=%E4%B8%8A%E6%B5%B7; _gat=1; SEARCH_ID=84861fecdac142758601672015c423a8; X_HTTP_TOKEN=96217b0cfd18c95d26800329513a681ffbf14c120e; Hm_lpvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1592300879; TG-TRACK-CODE=search_code; LGRID=20200616175631-b02ff5d8-af68-4cca-a82c-e4f0f879f144
')
webcode = GET(url,add_headers(.headers =headers), encode="json",verbose())
headers = c('User-Agent'='Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36',
'cookie'='RECOMMEND_TIP=true; _ga=GA1.2.10707914.1589273745; user_trace_token=20200512165453-1261ab7a-edcb-4bf7-849d-cd0aef1ee5e7; LGUID=20200512165453-c9ffb47d-0a75-410a-97f9-44372671b6e0; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2217208191c54706-0e27e5c76dc665-396d7500-1296000-17208191c557f4%22%2C%22%24device_id%22%3A%2217208191c54706-0e27e5c76dc665-396d7500-1296000-17208191c557f4%22%7D; LG_LOGIN_USER_ID=e599b97ca91ffd98597e3f5fc6a69355f7ced9f236b081eb600526abc60e95b4; LG_HAS_LOGIN=1; JSESSIONID=ABAAAECABIEACCA5A35857C057631E6CD73DAD030638AE7; WEBTJ-ID=20200616174653-172bc863c09db-04fe54018a3ed-1b3a6251-1296000-172bc863c0a142; PRE_UTM=; PRE_LAND=https%3A%2F%2Fwww.lagou.com%2F; _gid=GA1.2.1114061038.1592300815; Hm_lvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1592300815; LGSID=20200616174638-cbe9e5e7-e2b2-494e-acc3-be56ef507bc3; PRE_HOST=www.google.com; PRE_SITE=https%3A%2F%2Fwww.google.com%2F; index_location_city=%E4%B8%8A%E6%B5%B7; _gat=1; SEARCH_ID=84861fecdac142758601672015c423a8; X_HTTP_TOKEN=96217b0cfd18c95d26800329513a681ffbf14c120e; Hm_lpvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1592300879; TG-TRACK-CODE=search_code; LGRID=20200616175631-b02ff5d8-af68-4cca-a82c-e4f0f879f144
')
webcode = GET(url,add_headers(.headers =headers),encode="json",verbose())
headers = c('User-Agent'='Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36',
'cookie'='RECOMMEND_TIP=true; _ga=GA1.2.10707914.1589273745; user_trace_token=20200512165453-1261ab7a-edcb-4bf7-849d-cd0aef1ee5e7; LGUID=20200512165453-c9ffb47d-0a75-410a-97f9-44372671b6e0; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2217208191c54706-0e27e5c76dc665-396d7500-1296000-17208191c557f4%22%2C%22%24device_id%22%3A%2217208191c54706-0e27e5c76dc665-396d7500-1296000-17208191c557f4%22%7D; LG_LOGIN_USER_ID=e599b97ca91ffd98597e3f5fc6a69355f7ced9f236b081eb600526abc60e95b4; LG_HAS_LOGIN=1; JSESSIONID=ABAAAECABIEACCA5A35857C057631E6CD73DAD030638AE7; WEBTJ-ID=20200616174653-172bc863c09db-04fe54018a3ed-1b3a6251-1296000-172bc863c0a142; PRE_UTM=; PRE_LAND=https%3A%2F%2Fwww.lagou.com%2F; _gid=GA1.2.1114061038.1592300815; Hm_lvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1592300815; LGSID=20200616174638-cbe9e5e7-e2b2-494e-acc3-be56ef507bc3; PRE_HOST=www.google.com; PRE_SITE=https%3A%2F%2Fwww.google.com%2F; index_location_city=%E4%B8%8A%E6%B5%B7; _gat=1; SEARCH_ID=84861fecdac142758601672015c423a8; X_HTTP_TOKEN=96217b0cfd18c95d26800329513a681ffbf14c120e; Hm_lpvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1592300879; TG-TRACK-CODE=search_code; LGRID=20200616175631-b02ff5d8-af68-4cca-a82c-e4f0f879f144
')
webcode = GET(url,add_headers(.headers =headers))
headers = c('User-Agent'='Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36',
'cookie'='RECOMMEND_TIP=true; _ga=GA1.2.10707914.1589273745; user_trace_token=20200512165453-1261ab7a-edcb-4bf7-849d-cd0aef1ee5e7; LGUID=20200512165453-c9ffb47d-0a75-410a-97f9-44372671b6e0; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2217208191c54706-0e27e5c76dc665-396d7500-1296000-17208191c557f4%22%2C%22%24device_id%22%3A%2217208191c54706-0e27e5c76dc665-396d7500-1296000-17208191c557f4%22%7D; LG_LOGIN_USER_ID=e599b97ca91ffd98597e3f5fc6a69355f7ced9f236b081eb600526abc60e95b4; LG_HAS_LOGIN=1; JSESSIONID=ABAAAECABIEACCA5A35857C057631E6CD73DAD030638AE7; WEBTJ-ID=20200616174653-172bc863c09db-04fe54018a3ed-1b3a6251-1296000-172bc863c0a142; PRE_UTM=; PRE_LAND=https%3A%2F%2Fwww.lagou.com%2F; _gid=GA1.2.1114061038.1592300815; Hm_lvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1592300815; LGSID=20200616174638-cbe9e5e7-e2b2-494e-acc3-be56ef507bc3; PRE_HOST=www.google.com; PRE_SITE=https%3A%2F%2Fwww.google.com%2F; index_location_city=%E4%B8%8A%E6%B5%B7; _gat=1; SEARCH_ID=84861fecdac142758601672015c423a8; X_HTTP_TOKEN=96217b0cfd18c95d26800329513a681ffbf14c120e; Hm_lpvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1592300879; TG-TRACK-CODE=search_code; LGRID=20200616175631-b02ff5d8-af68-4cca-a82c-e4f0f879f144
')
webcode = GET(url,add_headers(.headers =headers))
headers = c('User-Agent'='Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36',
'cookie'='RECOMMEND_TIP=true; _ga=GA1.2.10707914.1589273745; user_trace_token=20200512165453-1261ab7a-edcb-4bf7-849d-cd0aef1ee5e7; LGUID=20200512165453-c9ffb47d-0a75-410a-97f9-44372671b6e0; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2217208191c54706-0e27e5c76dc665-396d7500-1296000-17208191c557f4%22%2C%22%24device_id%22%3A%2217208191c54706-0e27e5c76dc665-396d7500-1296000-17208191c557f4%22%7D; LG_LOGIN_USER_ID=e599b97ca91ffd98597e3f5fc6a69355f7ced9f236b081eb600526abc60e95b4; LG_HAS_LOGIN=1; JSESSIONID=ABAAAECABIEACCA5A35857C057631E6CD73DAD030638AE7; WEBTJ-ID=20200616174653-172bc863c09db-04fe54018a3ed-1b3a6251-1296000-172bc863c0a142; PRE_UTM=; PRE_LAND=https%3A%2F%2Fwww.lagou.com%2F; _gid=GA1.2.1114061038.1592300815; Hm_lvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1592300815; LGSID=20200616174638-cbe9e5e7-e2b2-494e-acc3-be56ef507bc3; PRE_HOST=www.google.com; PRE_SITE=https%3A%2F%2Fwww.google.com%2F; index_location_city=%E4%B8%8A%E6%B5%B7; _gat=1; SEARCH_ID=84861fecdac142758601672015c423a8; X_HTTP_TOKEN=96217b0cfd18c95d26800329513a681ffbf14c120e; Hm_lpvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1592300879; TG-TRACK-CODE=search_code; LGRID=20200616175631-b02ff5d8-af68-4cca-a82c-e4f0f879f144
')
webcode = GET(url)
#,add_headers(.headers =headers))
#,encode="json",verbose())
webdata = data.frame()
job = read_html(webcode)%>%html_text()
# job_title = read_html(url)%>% html_nodes('.job-name a')%>%html_text()
#company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
#
#webdata = rbind(webdata,data.frame(job))
job
webdata = data.frame()
job = read_html(webcode)%>%html_text()
# job_title = read_html(url)%>% html_nodes('.job-name a')%>%html_text()
#company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
#
#webdata = rbind(webdata,data.frame(job))
job
url = "https://www.lagou.com/jobs/list_%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0/p-city_3?&cl=false&fromSearch=true&labelWords=&suginput="
#https://www.zhipin.com/c101020100/?query=%E6%95%B0%E6%8D%AE%E5%AE%9E%E4%B9%A0&ka=sel-city-101020100
headers = c('User-Agent'='Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36',
'cookie'='RECOMMEND_TIP=true; _ga=GA1.2.10707914.1589273745; user_trace_token=20200512165453-1261ab7a-edcb-4bf7-849d-cd0aef1ee5e7; LGUID=20200512165453-c9ffb47d-0a75-410a-97f9-44372671b6e0; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2217208191c54706-0e27e5c76dc665-396d7500-1296000-17208191c557f4%22%2C%22%24device_id%22%3A%2217208191c54706-0e27e5c76dc665-396d7500-1296000-17208191c557f4%22%7D; LG_LOGIN_USER_ID=e599b97ca91ffd98597e3f5fc6a69355f7ced9f236b081eb600526abc60e95b4; LG_HAS_LOGIN=1; JSESSIONID=ABAAAECABIEACCA5A35857C057631E6CD73DAD030638AE7; WEBTJ-ID=20200616174653-172bc863c09db-04fe54018a3ed-1b3a6251-1296000-172bc863c0a142; PRE_UTM=; PRE_LAND=https%3A%2F%2Fwww.lagou.com%2F; _gid=GA1.2.1114061038.1592300815; Hm_lvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1592300815; LGSID=20200616174638-cbe9e5e7-e2b2-494e-acc3-be56ef507bc3; PRE_HOST=www.google.com; PRE_SITE=https%3A%2F%2Fwww.google.com%2F; index_location_city=%E4%B8%8A%E6%B5%B7; _gat=1; SEARCH_ID=84861fecdac142758601672015c423a8; X_HTTP_TOKEN=96217b0cfd18c95d26800329513a681ffbf14c120e; Hm_lpvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1592300879; TG-TRACK-CODE=search_code; LGRID=20200616175631-b02ff5d8-af68-4cca-a82c-e4f0f879f144
')
webcode = GET(url)
#,add_headers(.headers =headers))
#,encode="json",verbose())
webdata = data.frame()
job = read_html(webcode)%>%html_text()
# job_title = read_html(url)%>% html_nodes('.job-name a')%>%html_text()
#company= read_html(url)%>%html_nodes('h3.name')%>%html_text()
#salary = read_html(url)%>%html_nodes('span.red')%>%html_text()
#
#webdata = rbind(webdata,data.frame(job))
job
